<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amir's Information Aggregator v1.4</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        #feed-list { list-style-type: none; padding: 0; }
        .feed-item { border-bottom: 1px solid #ccc; padding: 10px 0; }
        .feed-item button { margin-left: 10px; }
        .hidden { display: none; }
        #feed-summary, #excluded-terms { margin-top: 20px; }
        #error-message { color: red; }
        .section { margin-top: 30px; border-top: 1px solid #ccc; padding-top: 20px; }
        .subsection { margin-top: 20px; }
        .form-group { margin-bottom: 15px; }
        button { margin-right: 10px; }
        h3 { margin-bottom: 10px; }
        #feed-builder h2 { color: darkblue; }
        .boxed-section {
            border: 1px solid #ccc;
            background-color: #f0f0f0;
            padding: 15px;
            margin-top: 20px;
        }
        .boxed-section h3 {
            margin-top: 0;
        }
        .boxed-section button {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Amir's Information Aggregator v1.4</h1>
    <div id="error-message"></div>
    <ul id="feed-list"></ul>

    <div id="feed-builder" class="section">
        <h2>Feed Builder</h2>
        
        <div class="subsection">
            <h3>News Search</h3>
            <div class="form-group">
                <label>
                    <input type="radio" name="search-engine" value="google" checked> Google News
                </label>
                <label>
                    <input type="radio" name="search-engine" value="bing"> Bing News
                </label>
            </div>
            <div class="form-group">
                <input type="text" id="keywords" placeholder="Enter keywords">
                <button onclick="generateFeed()">Generate Feed</button>
            </div>
            <div id="generated-feed"></div>
        </div>

        <div class="subsection">
            <h3>Enter your own feed</h3>
            <div class="form-group">
                <input type="text" id="new-feed" placeholder="Enter RSS feed URL">
                <button onclick="addFeed()">Add Feed</button>
            </div>
        </div>

        <div class="subsection">
            <h3>Exclude Terms</h3>
            <div class="form-group">
                <input type="text" id="exclude-term" placeholder="Enter term to exclude">
                <button onclick="addExcludedTerm()">Add Excluded Term</button>
            </div>
        </div>

        <div class="boxed-section">
            <div id="excluded-terms"></div>
        </div>

        <div class="boxed-section">
            <div id="feed-summary"></div>
        </div>
    </div>

    <script>
        // ... (JavaScript code remains the same)

        function updateFeedSummary() {
            const summary = document.getElementById('feed-summary');
            summary.innerHTML = '<h3>Current Feeds:</h3>';
            if (feeds.length === 0) {
                summary.innerHTML += '<p>No feeds added yet.</p>';
            } else {
                const ul = document.createElement('ul');
                feeds.forEach((feed, index) => {
                    const li = document.createElement('li');
                    li.textContent = feed;
                    const removeButton = document.createElement('button');
                    removeButton.textContent = 'Remove';
                    removeButton.onclick = () => removeFeed(index);
                    li.appendChild(removeButton);
                    ul.appendChild(li);
                });
                summary.appendChild(ul);
            }
            const clearButton = document.createElement('button');
            clearButton.textContent = 'Clear All Feeds';
            clearButton.onclick = clearAllFeeds;
            summary.appendChild(clearButton);
        }

        function updateExcludedTerms() {
            const excludedTermsDiv = document.getElementById('excluded-terms');
            excludedTermsDiv.innerHTML = '<h3>Excluded Terms:</h3>';
            if (excludedTerms.size === 0) {
                excludedTermsDiv.innerHTML += '<p>No terms excluded.</p>';
            } else {
                const ul = document.createElement('ul');
                excludedTerms.forEach(term => {
                    const li = document.createElement('li');
                    li.textContent = term;
                    const removeButton = document.createElement('button');
                    removeButton.textContent = 'Remove';
                    removeButton.onclick = () => removeExcludedTerm(term);
                    li.appendChild(removeButton);
                    ul.appendChild(li);
                });
                excludedTermsDiv.appendChild(ul);
            }
            const clearButton = document.createElement('button');
            clearButton.textContent = 'Clear All Exclusions';
            clearButton.onclick = clearAllExclusions;
            excludedTermsDiv.appendChild(clearButton);
        }

        // Load feeds on page load
        loadFeeds();
    </script>
</body>
</html>
